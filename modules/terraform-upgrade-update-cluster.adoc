// Module included in the following assemblies:
//
// * 

:_content-type: PROCEDURE

[id="terraform-upgrade-cluster"]
= Upgrading your ROSA cluster with Terraform
You can use Terraform to upgrade your cluster.

.Prerequisites
* You created your account roles using Terraform.
* You created your cluster using Terraform. This cluster can either have a managed OIDC configuration or an unmanaged OIDC configuration.

.Procedure
To upgrade your ROSA cluster to another version, upgrade your account roles and policies, export the following variables, and then run `terraform apply`.

. If you are upgrading to a new y-stream, such as upgrading from version 4.12.19 to 4.13.1, run `terraform apply` in the link:https://github.com/terraform-redhat/terraform-provider-rhcs/tree/v1.3.0-prerelease.2/examples/create_account_roles/[`account_roles` module]. You must specify your desired y-stream version by using the following variables:

. Export the `TF_VAR_openshift_version` with the intended version. Your value must be prepended with `export TF_VAR_openshift_version=<version_number>`.

. Upgrading your cluster requires approval, especially when transitioning between major y-streams. You may be required to provide administrative confirmation regarding significant modifications to your cluster. In this case, when you first attempt the upgrade, you will receive an error message that provides guidance regarding the necessary modifications. It is essential to follow the instructions carefully. Indicate completion of the requirements by adding the `upgrade_acknowledgements_for` variable to your Terraform plan with your targeted version. For example, if you are upgrading from version 4.11.43 to 4.12.21, you should use '4.12' as the value for this variable.

Run `terraform apply` to upgrade your cluster.