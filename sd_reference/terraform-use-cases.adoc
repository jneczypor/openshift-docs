:_content-type: ASSEMBLY
[id="terraform-use-cases"]
= Terraform use cases
include::_attributes/common-attributes.adoc[]
ifdef::openshift-dedicated[]
include::_attributes/attributes-openshift-dedicated.adoc[]
endif::[]
:context: terraform-use-cases

toc::[]

Terraform examples assist with cluster creation and modification.

[id="terraform-before-cluster"]
== Before creating a cluster
The following use cases provide examples of actions taken before cluster creation.

//Prerequisites
//modules/sd-terraform-prereqs.adoc
//undo hiding the above include when Eric *finally* pushes 7235
//Account-wide IAM roles
include::modules/terraform-account-wide-iam-roles.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

 * xref:../rosa_architecture/rosa-sts-about-iam-resources.adoc [Account-wide IAM role and policy reference]

//To be added in a subsequent ticket:
//During cluster creation:
//[id="terraform-day-one"]
//== Terraform day one examples
//The following use cases provide examples of actions taken during cluster creation.

[id="terraform-day-two"]
== Terraform day two examples
The following use cases provide examples of actions taken after cluster creation.

//Creating a machine pool
include::modules/terraform-creating-machine-pool.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

//Upgrading your Rosa cluster with Terraform
include::modules/terraform-upgrade-update-cluster.adoc[leveloffset=+2]

//Supported identity providers
[id="terraform-identity-providers"]
=== Supported identity providers

//GitHub
include::modules/terraform-idp-github.adoc[leveloffset=+3]

[role="_additional-resources"]
.Additional resources
GitHub identity provider
Understanding identity provider configuration
Mapping methods

//GitLab
include::modules/terraform-idp-gitlab.adoc[leveloffset=+3]

[role="_additional-resources"]
.Additional resources
GitLab identity provider
Understanding identity provider configuration
Mapping methods

//Google
include::modules/terraform-idp-google.adoc[leveloffset=+3]

[role="_additional-resources"]
.Additional resources
Google identity provider
Understanding identity provider configuration
Mapping methods

//htpasswd
include::modules/terraform-idp-htpasswd.adoc[leveloffset=+3]

[role="_additional-resources"]
.Additional resources
htpasswd identity provider
Understanding identity provider configuration
Mapping methods

//LDAP
include::modules/terraform-idp-ldap.adoc[leveloffset=+3]

[role="_additional-resources"]
.Additional resources
LDAP identity provider
Understanding identity provider configuration
Mapping methods